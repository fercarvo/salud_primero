<h4 class="text-center teal-text">Ex&aacute;menes de la muestra: {{muestra.cod_barras}}</h4>
<hr>
<ul class="collapsible popout" data-collapsible="accordion">
    <li ng-repeat="examen in examenes">
        <div class="collapsible-header large active"><i class="material-icons">label</i>Examen medico: {{examen.nombre}} | {{examen.resultados.length}} resultados</div>
        <div class="collapsible-body" style="padding-left:20px;padding-right:20px">

        <div class="row">
          <div class="col m7 s12"><input type="search" name="busqueda" ng-model="busqueda.$" placeholder="Buscar resultados"></div>
          <div ng-click="nuevoResultado(examen)" style="padding-top:10px;" class="col m5 s12"><a  class="waves-effect waves-light btn"><i class="material-icons right">note_add</i>Nuevo resultado</a></div>

        </div>
        <div class="table-responsive">
          <table class="table table-striped table-bordered">
          <thead>
            <tr>
              <th class="text-center">Parámetro</th>
              <th class="text-center">Unidades</th>
              <th class="text-center">Resultado</th>
              <th class="text-center">Valores/Referencia</th>
              <th class="text-center">Editar</th>
              <th class="text-center">Eliminar</th>
            </tr>
          </thead>
          <tbody>
              <tr ng-repeat="resultado in examen.resultados | filter:busqueda">
                  <td class="text-center"> {{ resultado.parametro }} </td>
                  <td class="text-center"> {{ resultado.unidades }} </td>
                  <td class="text-center"> {{ resultado.resultado }} </td>
                  <td class="text-center"> {{ resultado.valores_referencia }} </td>

                  <td class="text-center"><button type="button" style="border:none;background:none" class="small material-icons" href="#modal1" ng-click="editarResultado(resultado)">mode_edit</button></td>
                  <td class="text-center eliminar"><button type="button" style="border:none;background:none" class="small material-icons" ng-click="eliminarResultado(examen, resultado)">delete</button></td>
              </tr>
          </tbody>
        </table>
        </div>
          
        </div>
    </li>
</ul>


<div id="modalCrearResultado" class="modal" style="padding-left:20px;padding-right:20px;padding-top:10px;margin-top:-10px">
  <form > 
    <div class="modal-body">
        <div class="row">
          <div class="input-field col s12">
            <input id="parametro" type="text" class="validate" ng-model="nuevo_resultado.parametro" required>
            <label for="parametro">Parámetro medico</label>
          </div>
        </div>

        <div class="row">
          <div class="input-field col s12">
            <input id="unidades" type="text" class="validate" ng-model="nuevo_resultado.unidades" required>
            <label for="unidades">Unidades</label>
          </div>
        </div>

        <div class="row">
          <div class="input-field col s12">
            <input id="resultado" type="text" class="validate" ng-model="nuevo_resultado.resultado" required>
            <label for="resultado">Resultado</label>
          </div>
        </div>

        <div class="row">
          <div class="input-field col s12">
            <input id="valores_referencia" type="text" class="validate" ng-model="nuevo_resultado.valores_referencia" required>
            <label for="valores_referencia">Valores de Referencia</label>
          </div>
        </div>
    </div>
    <div class="row modal-footer">
          <button type="submit" class="btn btn-primary col s5 left" ng-click="agregarResultado()">Crear</button>
          <button type="reset" class="btn btn-default col s5 right" ng-click="cancelarRes()">Cancelar</button>    
    </div>
  </form>
</div>
