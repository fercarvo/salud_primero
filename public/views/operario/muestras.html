<h4 class="text-center">Administrador de Muestras Medicas</h4>
<hr>
<ul class="collapsible popout" ng-click="activarSelect()" data-collapsible="accordion">
    <li>
      <div class="collapsible-header"><i class="material-icons">add</i>Crear Muestra</div>
      <div class="collapsible-body" style="padding-left:20px;padding-right:20px">
        <form> 
              <div class="modal-body">

                  <div class="form-group col s12">
                    <select ng-model="select_tipo">
                      <option ng-repeat="tipo in tipos"></option>
                    </select>
                    <input type="text" ng-model="select_tipo">
                    <h6>dijo: {{selec_tipo}}</h6>
                  </div>
                  


                  <div class="form-group">
                    Paciente <input style="border:none" type="text" class="form-control" value="{{nuevo_muestra.paciente.nombre}} {{nuevo_muestra.paciente.apellido}}" readonly ng-click="modalPaciente()">
                  </div>

                  <div class="form-group">
                    Laboratorio <input style="border:none" type="text" class="form-control" value="{{nuevo_muestra.laboratorio.nombre}}" readonly ng-click="modalLaboratorio()">
                  </div>

                  <div class="form-group">
                    Centro Medico <input style="border:none" type="text" class="form-control" value="{{nuevo_muestra.centro.nombre}}" readonly ng-click="modalCentroMed()">
                  </div>

              </div>
              <div class="modal-footer row">
                <button type="reset" class="btn btn-default col s4 right">Cancelar</button>
                <button type="submit" class="btn btn-primary col s4 " ng-click="agregarMuestra(nuevo_muestra)">Crear</button>
              </div>
            </form>
      </div>
    </li>

    <li>
        <div class="collapsible-header large active"><i class="material-icons">label</i>Muestras</div>
        <div class="collapsible-body" style="padding-left:20px;padding-right:20px">
        <div ><input type="search" name="busqueda" ng-model="busqueda.$" placeholder="Buscar muestras medicas"></div>
            <table id="teibol" class="table table-bordered table-striped">
              <thead>
                <tr>
                  <th>tipo</th>
                  <th>cod_barras</th>
                  <th>recibido</th>
                  <th>fecha</th>
                  <th>editar</th>
                  <th>delete</th>
                </tr>
              </thead>
              <tbody>
                  <tr ng-repeat="muestra in muestras | filter:busqueda">
                      <td class="tipo"> {{ muestra.tipo }} </td>
                      <td class="cod_barras"> {{ muestra.cod_barras }} </td>
                      <td class="recibido"> {{ muestra.recibido }} </td>
                      <td class="fecha"> {{ muestra.fecha | date:'MM/dd/yyyy'}} </td>

                      <td ><button type="button" style="border:none;background:none" class="small material-icons" ng-click="editarMuestra(muestra)">mode_edit</button></td>
                      <td ><button type="button" style="border:none;background:none" class="small material-icons" ng-click="eliminarMuestra(muestra)">delete</button></td>
                  </tr>
              </tbody>
            </table>
        </div>
    </li>

</ul>

<!-- Modales -->
<div id="modalEditarMuestra" class="modal">
  <div class="modal-content">
      <!-- Modal de editar resultado-->
    <div>
      <form> 
          <div class="modal-body">

                  <div class="form-group col s12" >
                    Tipo de muestra <select ng-init="editar_muestra.tipo = tipos[-1]" ng-options="tipo for tipo in tipos" ng-model="editar_muestra.tipo">
                    </select>
                  </div>

                  <div class="form-group">
                    Paciente <input style="border:none" type="text" class="form-control" value="{{editar_muestra._paciente.nombre}} {{editar_muestra._paciente.apellido}}" readonly ng-click="modalPaciente()">
                  </div>

                  <div class="form-group">
                    Laboratorio <input style="border:none" type="text" class="form-control" value="{{editar_muestra._laboratorio.nombre}}" readonly ng-click="modalLaboratorio()">
                  </div>

                  <div class="form-group">
                    Centro Medico <input style="border:none" type="text" class="form-control" value="{{editar_muestra._centro.nombre}}" readonly ng-click="modalCentroMed()">
                  </div>

              </div>             
      <div class="modal-footer">
        <button type="submit" class="btn btn-primary" ng-disabled="disEditMuestra" ng-click="putMuestra()">Aceptar</button>
      </div>
    </form>
    </div>
  </div>

</div>

<div class="modal" id="modalPac" style="padding-left:20px;padding-right:20px;padding-top:10px;margin-top:-10px">
  <div class="container-fluid center">
  <h5 class="text-center indigo-text">Pacientes</h5>
  <div ><input class="text-center" type="search" name="busqueda" ng-model="busqueda.paciente" placeholder="Buscar paciente por nombre"></div>
  <table id="teibol" class="table table-bordered table-striped">
    <tbody>
      <tr ng-repeat="paciente in pacientes | filter:busqueda.paciente">
        <td > {{ paciente.nombre }} {{paciente.apellido}} </td>
        <td ><button type="button" style="border:none;background:none" class="small material-icons" data-toggle="modal" ng-click="cargarPaciente(paciente)">done</button></td>
      </tr>
    </tbody>
  </table>
  </div>
</div>

<div class="modal" id="modalLab" style="padding-left:20px;padding-right:20px;padding-top:10px;margin-top:-10px">
  <div class="container-fluid center">
  <h5 class="text-center indigo-text">Laboratorios</h5>
  <div ><input class="text-center" type="search" name="busqueda" ng-model="busqueda.laboratorio" placeholder="Buscar laboratoio"></div>
  <table id="teibol" class="table table-bordered table-striped">
    <tbody>
      <tr ng-repeat="laboratorio in laboratorios | filter:{nombre:busqueda.laboratorio}">
        <td > {{ laboratorio.nombre }} </td>
        <td ><button type="button" style="border:none;background:none" class="small material-icons" data-toggle="modal" ng-click="cargarLaboratorio(laboratorio)">done</button></td>
      </tr>
    </tbody>
  </table>
  </div>
</div>

<div class="modal" id="modalCentro" style="padding-left:20px;padding-right:20px;padding-top:10px;margin-top:-10px">
  <div class="container-fluid center">
  <h5 class="text-center indigo-text">Centros M&eacute;dicos</h5>
  <div ><input class="text-center" type="search" name="busqueda" ng-model="busqueda.centro" placeholder="Buscar Centro Medico"></div>
    <table id="teibol" class="table table-bordered table-striped">
      <tbody>
        <tr ng-repeat="centro in centros | filter:{nombre:busqueda.centro}">
          <td > {{ centro.nombre }} </td>
          <td ><button type="button" style="border:none;background:none" class="small material-icons" data-toggle="modal" ng-click="cargarCentro(centro)">done</button></td>
        </tr>
      </tbody>
    </table>
    </div>
</div>  





